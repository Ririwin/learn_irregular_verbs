<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verbes Irr√©guliers - Entra√Ænement</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fb;
        }
        
        h1 {
            color: #58a700;
            text-align: center;
        }
        
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .verb-group {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
        }
        
        .verb-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .verb-group input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
        }
        
        .btn {
            background-color: #58a700;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 20px;
        }
        
        .btn:hover {
            background-color: #498900;
        }
        
        .btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .question-container {
            margin-bottom: 20px;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            background-color: #f5f7fb;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
        }
        
        .option:hover {
            background-color: #e9ecf2;
        }
        
        .option.selected {
            border-color: #58a700;
            background-color: #eaf7d8;
        }
        
        .option.correct {
            border-color: #58a700;
            background-color: #d7ffce;
        }
        
        .option.incorrect {
            border-color: #ff4b4b;
            background-color: #ffdbdb;
        }
        
        .feedback {
            font-weight: bold;
            margin: 15px 0;
            padding: 10px;
            border-radius: 5px;
        }
        
        .feedback.correct {
            background-color: #d7ffce;
            color: #498900;
        }
        
        .feedback.incorrect {
            background-color: #ffdbdb;
            color: #d32f2f;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .input-answer {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        #exercise-section, #completion-section {
            display: none;
        }
        
        .streak {
            color: #ff9600;
        }
        
        .streak-goal {
            font-size: 18px;
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 5px;
            border: 1px solid #add8e6;
        }
        
        .streak-input {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        
        .streak-input label {
            margin-right: 10px;
            font-weight: bold;
        }
        
        .streak-input input {
            width: 80px;
            padding: 8px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .completion-message {
            font-size: 24px;
            text-align: center;
            color: #58a700;
            margin: 20px 0;
        }
        
        .confetti {
            text-align: center;
            font-size: 40px;
            margin: 20px 0;
        }
        
        .completion-stats {
            background-color: #f5ffeb;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Entra√Ænement aux Verbes Irr√©guliers</h1>
    
    <!-- Section S√©lection -->
    <div id="selection-section" class="container">
        <h2>S√©lectionnez les groupes de verbes</h2>
        
        <div class="verb-group">
            <label>
                <input type="checkbox" id="group1" checked>
                <span>Groupe 1: to be, to become, to break, to build, to buy, to come, to do, to fall, to get, to give</span>
            </label>
        </div>
        
        <div class="verb-group">
            <label>
                <input type="checkbox" id="group2" checked>
                <span>Groupe 2: to go, to have, to hurt, to learn, to leave, to meet, to read, to run, to say, to see</span>
            </label>
        </div>
        
        <div class="verb-group">
            <label>
                <input type="checkbox" id="group3" checked>
                <span>Groupe 3: to sleep, to spend, to take, to win, to write</span>
            </label>
        </div>
		<div class="verb-group">
            <label>
                <input type="checkbox" id="group4" checked>
                <span>Groupe 4: to dream, to drink, to drive, to eat, to find, to fly, to forge, to hit, to know, to make</span>
 				
				
            </label>
        </div>
        <div class="verb-group">
            <label>
                <input type="checkbox" id="group5" checked>
                <span>Groupe 5: to pay, to put, to ride, to send, to sing, to speak, to tell, to think, to understand, to wake up</span>
 				
				
            </label>
        </div>
        <div class="streak-goal">
            <p>D√©finissez votre objectif de s√©rie de bonnes r√©ponses cons√©cutives :</p>
            <div class="streak-input">
                <label for="streak-goal">Objectif :</label>
                <input type="number" id="streak-goal" min="5" max="100" value="25">
            </div>
            <p><small>L'exercice s'arr√™tera automatiquement lorsque vous aurez atteint cet objectif.</small></p>
        </div>
        
        <button id="start-btn" class="btn">Commencer</button>
    </div>
    
    <!-- Section Exercice -->
    <div id="exercise-section">
        <div class="container">
            <div class="stats">
                <div>Score: <span id="score">0</span>/<span id="total">0</span></div>
                <div>S√©rie: <span id="streak" class="streak">0</span>/<span id="streak-target" class="streak">25</span> üî•</div>
            </div>
            
            <div class="question-container">
                <h3 id="question">Question</h3>
            </div>
            
            <div id="answer-container"></div>
            
            <div id="feedback-container"></div>
            
            <button id="check-btn" class="btn">V√©rifier</button>
            <button id="next-btn" class="btn" style="display: none;">Question suivante</button>
        </div>
    </div>
    
    <!-- Section de F√©licitations -->
    <div id="completion-section" class="container">
        <div class="confetti">üéâ üéä üèÜ üéä üéâ</div>
        <h2 class="completion-message">F√©licitations !</h2>
        <p style="text-align: center;">Vous avez atteint votre objectif de <span id="final-streak-goal">25</span> bonnes r√©ponses cons√©cutives !</p>
        
        <div class="completion-stats">
            <p><strong>Score final :</strong> <span id="final-score">0</span>/<span id="final-total">0</span></p>
            <p><strong>Pr√©cision :</strong> <span id="final-accuracy">0</span>%</p>
        </div>
        
        <button id="restart-btn" class="btn">Recommencer avec les m√™mes param√®tres</button>
        <button id="new-session-btn" class="btn" style="margin-top: 10px; background-color: #4a6fa5;">Nouvelle session</button>
    </div>

    <script>
        // D√©finition des groupes de verbes
// D√©finition des groupes de verbes
const verbGroups = [
    // Groupe 1
    [
        ["be", "was/were", "been", "√™tre"],
        ["become", "became", "become", "devenir"],
        ["break", "broke", "broken", "casser"],
        ["build", "built", "built", "construire"],
        ["buy", "bought", "bought", "acheter"],
        ["come", "came", "come", "venir"],
        ["do", "did", "done", "faire"],
        ["fall", "fell", "fallen", "tomber"],
        ["get", "got", "got/gotten", "obtenir"],
        ["give", "gave", "given", "donner"]
    ],
    // Groupe 2
    [
        ["go", "went", "gone", "aller"],
        ["have", "had", "had", "avoir"],
        ["hurt", "hurt", "hurt", "blesser"],
        ["learn", "learned/learnt", "learned/learnt", "apprendre"],
        ["leave", "left", "left", "partir/quitter"],
        ["meet", "met", "met", "rencontrer"],
        ["read", "read", "read", "lire"],
        ["run", "ran", "run", "courir"],
        ["say", "said", "said", "dire"],
        ["see", "saw", "seen", "voir"]
    ],
    // Groupe 3
    [
        ["sleep", "slept", "slept", "dormir"],
        ["spend", "spent", "spent", "d√©penser"],
        ["take", "took", "taken", "prendre"],
        ["win", "won", "won", "gagner"],
        ["write", "wrote", "written", "√©crire"],
        ["begin", "began", "begun", "commencer"],
        ["bring", "brought", "brought", "apporter"],
        ["choose", "chose", "chosen", "choisir"],
        ["cut", "cut", "cut", "couper"],
        ["draw", "drew", "drawn", "dessiner"]
    ],
    // Groupe 4
    [
        ["dream", "dreamt", "dreamt", "r√™ver"],
        ["drink", "drank", "drunk", "boire"],
        ["drive", "drove", "driven", "conduire"],
        ["eat", "ate", "eaten", "manger"],
        ["find", "found", "found", "trouver"],
        ["fly", "flew", "flown", "voler"],
        ["forget", "forgot", "forgotten", "oublier"],
        ["hit", "hit", "hit", "frapper"],
        ["know", "knew", "known", "savoir"],
        ["make", "made", "made", "fabriquer"]
    ],
    // Groupe 5 - laiss√© vide mais correctement d√©fini
    [
        ["pay", "paid", "paid", "payer"],
        ["put", "put", "put", "mettre"],
        ["ride", "rode", "ridden", "aller √† v√©lo, √† cheval"],
        ["send", "sent", "sent", "envoyer"],
        ["sing", "sang", "sung", "chanter"],
        ["speak", "spoke", "spoken", "parler"],
        ["tell", "told", "told", "dire, raconter"],
        ["think", "thought", "thought", "penser, r√©fl√©chir"],
        ["understand", "understood", "understood", "comprendre"],
        ["wake up", "woke up", "woken up", "se r√©veiller"]
    ],
];

        // Variables globales
        let activeVerbs = [];
        let currentVerb = null;
        let currentExerciseType = 0;
        let correctAnswer = "";
        let score = 0;
        let totalQuestions = 0;
        let streak = 0;
        let streakGoal = 25;
        let selectedOption = null;
        let selectedGroups = [];

        // √âl√©ments du DOM
        const selectionSection = document.getElementById('selection-section');
        const exerciseSection = document.getElementById('exercise-section');
        const completionSection = document.getElementById('completion-section');
        const questionElement = document.getElementById('question');
        const answerContainer = document.getElementById('answer-container');
        const feedbackContainer = document.getElementById('feedback-container');
        const checkButton = document.getElementById('check-btn');
        const nextButton = document.getElementById('next-btn');
        const scoreElement = document.getElementById('score');
        const totalElement = document.getElementById('total');
        const streakElement = document.getElementById('streak');
        const streakTargetElement = document.getElementById('streak-target');
        const startButton = document.getElementById('start-btn');
        const restartButton = document.getElementById('restart-btn');
        const newSessionButton = document.getElementById('new-session-btn');
        const group1Checkbox = document.getElementById('group1');
        const group2Checkbox = document.getElementById('group2');
        const group3Checkbox = document.getElementById('group3');
		const group4Checkbox = document.getElementById('group4');
		const group5Checkbox = document.getElementById('group5');
        const streakGoalInput = document.getElementById('streak-goal');
        const finalStreakGoalElement = document.getElementById('final-streak-goal');
        const finalScoreElement = document.getElementById('final-score');
        const finalTotalElement = document.getElementById('final-total');
        const finalAccuracyElement = document.getElementById('final-accuracy');

        // D√©marrer l'application
        startButton.addEventListener('click', function() {
// V√©rifier qu'au moins un groupe est s√©lectionn√©
if (!group1Checkbox.checked && !group2Checkbox.checked && !group3Checkbox.checked && !group4Checkbox.checked && !group5Checkbox.checked) {
    alert("Veuillez s√©lectionner au moins un groupe de verbes.");
    return;
}
            
            // Obtenir l'objectif de streak
            streakGoal = parseInt(streakGoalInput.value);
            if (isNaN(streakGoal) || streakGoal < 1) {
                alert("Veuillez entrer un objectif de s√©rie valide (nombre positif).");
                return;
            }
            
// M√©moriser les groupes s√©lectionn√©s
selectedGroups = [
    group1Checkbox.checked,
    group2Checkbox.checked,
    group3Checkbox.checked,
    group4Checkbox.checked,
	group5Checkbox.checked
];
            
            // Construire la liste des verbes actifs
            buildActiveVerbsList();
            
            // Passer √† l'√©cran d'exercice
            selectionSection.style.display = 'none';
            exerciseSection.style.display = 'block';
            
            // Mettre √† jour l'affichage de l'objectif de streak
            streakTargetElement.textContent = streakGoal;
            
            // R√©initialiser le score
            score = 0;
            totalQuestions = 0;
            streak = 0;
            updateScore();
            
            // Cr√©er le premier exercice
            createNewExercise();
        });

// Construire la liste des verbes actifs
function buildActiveVerbsList() {
    activeVerbs = [];
    if (group1Checkbox.checked) activeVerbs = activeVerbs.concat(verbGroups[0]);
    if (group2Checkbox.checked) activeVerbs = activeVerbs.concat(verbGroups[1]);
    if (group3Checkbox.checked) activeVerbs = activeVerbs.concat(verbGroups[2]);
    if (group4Checkbox.checked) activeVerbs = activeVerbs.concat(verbGroups[3]);
    if (group5Checkbox.checked) activeVerbs = activeVerbs.concat(verbGroups[4]);
}


        // Mettre √† jour l'affichage du score
        function updateScore() {
            scoreElement.textContent = score;
            totalElement.textContent = totalQuestions;
            streakElement.textContent = streak;
        }

        // Cr√©er un nouvel exercice
        function createNewExercise() {
            // R√©initialiser l'interface
            answerContainer.innerHTML = '';
            feedbackContainer.innerHTML = '';
            checkButton.style.display = 'block';
            nextButton.style.display = 'none';
            selectedOption = null;
            
            // S√©lectionner un verbe al√©atoire
            currentVerb = activeVerbs[Math.floor(Math.random() * activeVerbs.length)];
            
            // S√©lectionner un type d'exercice al√©atoire (0-3)
            // currentExerciseType = Math.floor(Math.random() * 4);
			
			// D√©finir les probabilit√©s pour chaque type d'exercice (total doit √™tre 100)
const probabilities = {
    qcm: 20,           // Type 0: QCM - 10% de chance
    textInput: 30,     // Type 1: Saisie de texte - 30% de chance
    enToFr: 25,        // Type 2: Anglais vers Fran√ßais - 30% de chance
    frToEn: 25         // Type 3: Fran√ßais vers Anglais - 30% de chance
};

// S√©lectionner un type d'exercice selon les probabilit√©s
const randomValue = Math.random() * 100;
let cumulativeProbability = 0;

if (randomValue < probabilities.qcm) {
    currentExerciseType = 0; // QCM
} else if (randomValue < probabilities.qcm + probabilities.textInput) {
    currentExerciseType = 1; // Saisie de texte
} else if (randomValue < probabilities.qcm + probabilities.textInput + probabilities.enToFr) {
    currentExerciseType = 2; // Anglais vers Fran√ßais
} else {
    currentExerciseType = 3; // Fran√ßais vers Anglais
}

            
            // Cr√©er l'exercice selon le type
            switch (currentExerciseType) {
                case 0: // Pr√©t√©rit ou participe pass√© (QCM)
                    createFormExercise();
                    break;
                case 1: // Pr√©t√©rit ou participe pass√© (texte)
                    createFormInputExercise();
                    break;
                case 2: // Anglais vers Fran√ßais
                    createEnglishToFrenchExercise();
                    break;
                case 3: // Fran√ßais vers Anglais
                    createFrenchToEnglishExercise();
                    break;
            }
        }

        // Exercice: forme du verbe (QCM)
        function createFormExercise() {
            // Choisir pr√©t√©rit ou participe pass√©
            const askForPast = Math.random() > 0.5;
            const formIndex = askForPast ? 1 : 2;
            
            correctAnswer = currentVerb[formIndex];
            
            // Cr√©er la question
            questionElement.textContent = askForPast 
                ? `Quel est le pr√©t√©rit du verbe "${currentVerb[0]}" (${currentVerb[3]}) ?`
                : `Quel est le participe pass√© du verbe "${currentVerb[0]}" (${currentVerb[3]}) ?`;
            
            // Cr√©er les options
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            // Pr√©parer les options (1 correcte, 3 incorrectes)
            let options = [correctAnswer];
            
            while (options.length < 4) {
                const randomVerb = activeVerbs[Math.floor(Math.random() * activeVerbs.length)];
                if (randomVerb !== currentVerb) {
                    const wrongOption = randomVerb[formIndex];
                    if (!options.includes(wrongOption)) {
                        options.push(wrongOption);
                    }
                }
            }
            
            // M√©langer les options
            options.sort(() => Math.random() - 0.5);
            
            // Cr√©er les boutons d'option
            options.forEach(option => {
                const optionButton = document.createElement('div');
                optionButton.className = 'option';
                optionButton.textContent = option;
                
                optionButton.addEventListener('click', function() {
                    // D√©s√©lectionner l'option pr√©c√©dente
                    if (selectedOption) {
                        selectedOption.classList.remove('selected');
                    }
                    
                    // S√©lectionner cette option
                    this.classList.add('selected');
                    selectedOption = this;
                });
                
                optionsDiv.appendChild(optionButton);
            });
            
            answerContainer.appendChild(optionsDiv);
        }

        // Exercice: forme du verbe (input texte)
        function createFormInputExercise() {
            // Choisir pr√©t√©rit ou participe pass√©
            const askForPast = Math.random() > 0.5;
            const formIndex = askForPast ? 1 : 2;
            
            correctAnswer = currentVerb[formIndex];
            
            // Cr√©er la question
            questionElement.textContent = askForPast 
                ? `√âcrivez le pr√©t√©rit du verbe "${currentVerb[0]}" (${currentVerb[3]}) :`
                : `√âcrivez le participe pass√© du verbe "${currentVerb[0]}" (${currentVerb[3]}) :`;
            
            // Cr√©er l'input
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'input-answer';
            input.placeholder = 'Votre r√©ponse...';
            input.id = 'text-answer';
            
            // Ajouter un √©v√©nement pour v√©rifier quand l'utilisateur appuie sur Entr√©e
            input.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    checkAnswer();
                }
            });
            
            answerContainer.appendChild(input);
            
            // Mettre le focus sur l'input
            setTimeout(() => input.focus(), 100);
        }

        // Exercice: Anglais vers Fran√ßais
        function createEnglishToFrenchExercise() {
            correctAnswer = currentVerb[3]; // Traduction fran√ßaise
            
            // Cr√©er la question
            questionElement.textContent = `Comment se dit "${currentVerb[0]}" en fran√ßais ?`;
            
            // Cr√©er les options
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            // Pr√©parer les options (1 correcte, 3 incorrectes)
            let options = [correctAnswer];
            
            while (options.length < 4) {
                const randomVerb = activeVerbs[Math.floor(Math.random() * activeVerbs.length)];
                if (randomVerb !== currentVerb) {
                    const wrongOption = randomVerb[3];
                    if (!options.includes(wrongOption)) {
                        options.push(wrongOption);
                    }
                }
            }
            
            // M√©langer les options
            options.sort(() => Math.random() - 0.5);
            
            // Cr√©er les boutons d'option
            options.forEach(option => {
                const optionButton = document.createElement('div');
                optionButton.className = 'option';
                optionButton.textContent = option;
                
                optionButton.addEventListener('click', function() {
                    // D√©s√©lectionner l'option pr√©c√©dente
                    if (selectedOption) {
                        selectedOption.classList.remove('selected');
                    }
                    
                    // S√©lectionner cette option
                    this.classList.add('selected');
                    selectedOption = this;
                });
                
                optionsDiv.appendChild(optionButton);
            });
            
            answerContainer.appendChild(optionsDiv);
        }

        // Exercice: Fran√ßais vers Anglais
        function createFrenchToEnglishExercise() {
            correctAnswer = currentVerb[0]; // Forme infinitive anglaise
            
            // Cr√©er la question
            questionElement.textContent = `Comment se dit "${currentVerb[3]}" en anglais ?`;
            
            // Cr√©er les options
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            // Pr√©parer les options (1 correcte, 3 incorrectes)
            let options = [correctAnswer];
            
            while (options.length < 4) {
                const randomVerb = activeVerbs[Math.floor(Math.random() * activeVerbs.length)];
                if (randomVerb !== currentVerb) {
                    const wrongOption = randomVerb[0];
                    if (!options.includes(wrongOption)) {
                        options.push(wrongOption);
                    }
                }
            }
            
            // M√©langer les options
            options.sort(() => Math.random() - 0.5);
            
            // Cr√©er les boutons d'option
            options.forEach(option => {
                const optionButton = document.createElement('div');
                optionButton.className = 'option';
                optionButton.textContent = option;
                
                optionButton.addEventListener('click', function() {
                    // D√©s√©lectionner l'option pr√©c√©dente
                    if (selectedOption) {
                        selectedOption.classList.remove('selected');
                    }
                    
                    // S√©lectionner cette option
                    this.classList.add('selected');
                    selectedOption = this;
                });
                
                optionsDiv.appendChild(optionButton);
            });
            
            answerContainer.appendChild(optionsDiv);
        }

        // V√©rifier la r√©ponse
        function checkAnswer() {
            let userAnswer = "";
            let isCorrect = false;
            
            // Obtenir la r√©ponse de l'utilisateur selon le type d'exercice
            if (currentExerciseType === 1) { // Input texte
                const textInput = document.getElementById('text-answer');
                if (textInput) {
                    userAnswer = textInput.value.trim().toLowerCase();
                    
                    // Pour les cas comme "was/were"
                    const possibleAnswers = correctAnswer.split('/').map(a => a.trim().toLowerCase());
                    isCorrect = possibleAnswers.includes(userAnswer);
                    
                    // D√©sactiver l'input
                    textInput.disabled = true;
                    
                    // Styliser l'input selon la r√©ponse
                    if (isCorrect) {
                        textInput.style.borderColor = '#58a700';
                        textInput.style.backgroundColor = '#eaf7d8';
                    } else {
                        textInput.style.borderColor = '#ff4b4b';
                        textInput.style.backgroundColor = '#ffdbdb';
                    }
                }
            } else { // QCM
                if (!selectedOption) {
                    // Aucune option s√©lectionn√©e
                    alert("Veuillez s√©lectionner une r√©ponse");
                    return;
                }
                
                userAnswer = selectedOption.textContent;
                isCorrect = userAnswer === correctAnswer;
                
                // Marquer visuellement les options
                const options = document.querySelectorAll('.option');
                options.forEach(option => {
                    if (option.textContent === correctAnswer) {
                        option.classList.add('correct');
                    } else if (option === selectedOption && !isCorrect) {
                        option.classList.add('incorrect');
                    }
                });
            }
            
            // Mettre √† jour le score
            totalQuestions++;
            if (isCorrect) {
                score++;
                streak++;
                
                // Afficher le feedback positif
                const feedback = document.createElement('div');
                feedback.className = 'feedback correct';
                feedback.textContent = '‚úÖ Correct !';
                feedbackContainer.appendChild(feedback);
                
                // V√©rifier si l'objectif est atteint
                if (streak >= streakGoal) {
                    showCompletionScreen();
                    return;
                }
            } else {
                streak = 0;
                
                // Afficher le feedback n√©gatif
                const feedback = document.createElement('div');
                feedback.className = 'feedback incorrect';
                feedback.textContent = `‚ùå Incorrect. La bonne r√©ponse est : ${correctAnswer}`;
                feedbackContainer.appendChild(feedback);
            }
            
            // Mettre √† jour l'affichage du score
            updateScore();
            
            // Afficher le bouton pour passer √† la question suivante
            checkButton.style.display = 'none';
            nextButton.style.display = 'block';
        }

        // Afficher l'√©cran de f√©licitations
        function showCompletionScreen() {
            // Mettre √† jour les statistiques finales
            finalStreakGoalElement.textContent = streakGoal;
            finalScoreElement.textContent = score;
            finalTotalElement.textContent = totalQuestions;
            
            // Calculer la pr√©cision
            const accuracy = totalQuestions > 0 ? Math.round((score / totalQuestions) * 100) : 0;
            finalAccuracyElement.textContent = accuracy;
            
            // Afficher l'√©cran de f√©licitations
            exerciseSection.style.display = 'none';
            completionSection.style.display = 'block';
        }

        // Red√©marrer avec les m√™mes param√®tres
        function restart() {
            // R√©initialiser les scores
            score = 0;
            totalQuestions = 0;
            streak = 0;
            
            // Revenir √† l'√©cran d'exercice
            completionSection.style.display = 'none';
            exerciseSection.style.display = 'block';
            
            // Mettre √† jour l'affichage du score
            updateScore();
            
            // Cr√©er un nouvel exercice
            createNewExercise();
        }

        // Nouvelle session
        function newSession() {
            // Revenir √† l'√©cran de s√©lection
            completionSection.style.display = 'none';
            selectionSection.style.display = 'block';
        }

        // Passer √† la question suivante
        function nextQuestion() {
            createNewExercise();
        }

        // √âv√©nements des boutons
        checkButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restart);
        newSessionButton.addEventListener('click', newSession);
    </script>
</body>
</html>
